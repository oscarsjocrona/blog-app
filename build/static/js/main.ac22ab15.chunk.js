(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{18:function(e,t,n){e.exports={AnimatedMenuIconContainer:"AnimatedMenuIcon_AnimatedMenuIconContainer__y2Xe9",AnimatedMenuIcon:"AnimatedMenuIcon_AnimatedMenuIcon__3DG-0",bar1:"AnimatedMenuIcon_bar1__1jFty",bar2:"AnimatedMenuIcon_bar2__k2iGV",bar3:"AnimatedMenuIcon_bar3__3Whbi"}},19:function(e,t,n){e.exports={Post:"Post_Post__2ZQPD",Title:"Post_Title__1OYdL",Content:"Post_Content__1gNpX",BarMenu:"Post_BarMenu__1tKuC",MenuButton:"Post_MenuButton__1KI75"}},20:function(e,t,n){e.exports={Sidebar:"Sidebar_Sidebar__Jf0P5",LinksList:"Sidebar_LinksList__2PjPj",Close:"Sidebar_Close__1FGrp",Open:"Sidebar_Open__2qQD1"}},23:function(e,t,n){e.exports={Layout:"Layout_Layout__ZMLz7",Content:"Layout_Content__2gI-y",ContentFlow:"Layout_ContentFlow__3WSGR",Main:"Layout_Main__2tnBy"}},29:function(e,t,n){e.exports={InputInput:"Input_InputInput__23YHu",InputTextarea:"Input_InputTextarea__2kgim",Invalid:"Input_Invalid__JkcV3"}},35:function(e,t,n){e.exports={Modal:"Modal_Modal__1Hxgt",Opening:"Modal_Opening__3THS2"}},47:function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__2jDga"}},49:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__3Biiy"}},50:function(e,t,n){e.exports={PostBillboard:"PostBillboard_PostBillboard__3MmNb"}},52:function(e,t,n){e.exports={Posts:"Posts_Posts__1_3wz"}},53:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__2--av"}},54:function(e,t,n){e.exports={NewPost:"NewPost_NewPost__TFtDR"}},55:function(e,t,n){e.exports={RoundButton:"RoundButton_RoundButton__V0dnZ"}},57:function(e,t,n){e.exports=n(87)},62:function(e,t,n){},63:function(e,t,n){e.exports={Label:"App_Label__2XGws"}},87:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(24),i=n.n(r),s=(n(62),n(26)),l=n(4),c=(n(63),n(5)),u=n(8),d=n(7),m=n(6),p=n(20),_=n.n(p),b=n(47),f=n.n(b),h=function(e){return o.a.createElement("li",{className:f.a.NavigationItem},o.a.createElement(s.b,{to:e.Link,exact:!0},e.children))},v=n(14),E=function(e){return e.map((function(e){return o.a.createElement(h,{Link:e.link},e.text)}))},S=Object(v.b)((function(e){return{showSidebar:e.navigationReducer.showSidebar}}))((function(e){console.log(e.showSidebar);var t=[_.a.Sidebar,_.a.Close];e.showSidebar&&(t=[_.a.Sidebar,_.a.Open]);var n=E(e.MenuItems);return o.a.createElement("div",{className:t.join(" ")},o.a.createElement("nav",null,o.a.createElement("ul",{className:_.a.LinksList},n)))})),g=n(18),O=n.n(g),C=Object(v.b)((function(e){return{expanded:e.navigationReducer.showSidebar}}),(function(e){return{onMenuClicked:function(t){return e({type:"SIDEBAR_SHOW",showSidebar:t})}}}))((function(e){var t=[O.a.AnimatedMenuIcon],n=[O.a.AnimatedMenuIcon],a=[O.a.AnimatedMenuIcon];return e.expanded&&(t.push(O.a.bar1),n.push(O.a.bar2),a.push(O.a.bar3)),console.log(e.expanded),o.a.createElement("div",{className:O.a.AnimatedMenuIconContainer,onClick:function(){return e.onMenuClicked(!e.expanded)}},o.a.createElement("div",{className:t.join(" ")}),o.a.createElement("div",{className:n.join(" ")}),o.a.createElement("div",{className:a.join(" ")}))})),P=n(49),y=n.n(P),I=function(){return o.a.createElement("header",{className:y.a.Toolbar},o.a.createElement(C,null))},w=n(23),D=n.n(w),N=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={menuItems:[{text:"Posts",link:"/posts"},{text:"About",link:"/about"},{text:"Help",link:"/help"}]},e}return Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:D.a.Layout},o.a.createElement(I,null),o.a.createElement("div",{className:D.a.Content},o.a.createElement(S,{MenuItems:this.state.menuItems}),o.a.createElement("main",{className:D.a.Main},this.props.children),o.a.createElement("div",{style:{textAlign:"center"},className:D.a.ContentFlow},"Placeholder"))))}}]),n}(a.Component),j=n(50),x=n.n(j),M=n(9),T=n(51),L=n.n(T).a.create({baseURL:"https://blogapi20201007171304.azurewebsites.net"}),k=function(){return function(e){L.get("api/posts").then((function(t){console.log("No error!!");var n=[];for(var a in t.data)n.push(Object(M.a)({id:a},t.data[a]));e(function(e){return{type:"FETCH_POSTS_SUCCESS",posts:e}}(n))})).catch((function(t){console.log("firebase error!!"),e({type:"FETCH_POSTS_FAILED",posts:t})}))}},A=n(19),B=n.n(A),R=n(28),F=n(27),H=(n(36),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:B.a.Post},o.a.createElement("div",{className:B.a.Title},o.a.createElement("div",null,o.a.createElement("label",null,o.a.createElement("span",{style:{fontWeight:"bold"}},this.props.title),o.a.createElement("span",{style:{textDecorationLine:"underline"}},"@Berit")))),o.a.createElement("div",{className:B.a.Content},o.a.createElement("p",null,this.props.text)),o.a.createElement("div",{className:B.a.BarMenu},o.a.createElement("button",{className:B.a.MenuButton},o.a.createElement(F.a,{icon:R.a})),o.a.createElement("button",{className:B.a.MenuButton},o.a.createElement(F.a,{icon:R.b})),o.a.createElement("button",{className:B.a.MenuButton,onClick:function(){return e.props.onDeletePost(e.props.id)}},o.a.createElement(F.a,{icon:R.c}))))}}]),n}(a.Component)),z=n(52),U=n.n(z),V=function(e){console.log(e.items);var t=e.items.map((function(t){return o.a.createElement(H,{onDeletePost:function(t){return e.onDeletePost(t)},id:t.id,key:t.id,title:t.title,text:t.text})}));return o.a.createElement("div",{className:U.a.Posts},t)},q=n(15),G=n(53),W=n.n(G),X=function(e){return e.show?o.a.createElement("div",{className:W.a.Backdrop,onClick:e.closed}):null},J=n(35),Z=n.n(J),$=o.a.memo((function(e){var t=[Z.a.Modal];return e.show&&t.push(Z.a.Opening),o.a.createElement("div",null,o.a.createElement(X,{show:e.show,closed:e.closed}),o.a.createElement("div",{className:t.join(" ")},e.children))}),(function(e,t){return console.log(e),console.log(t),e.show===t.show&&e.children==t.children})),K=n(54),Q=n.n(K),Y=n(29),ee=n.n(Y),te=function(e){var t=[],n=null,a=null;switch(!e.valid&&e.validationRequired&&e.submitted&&(n=o.a.createElement("p",{style:{backgroundColor:"#f9514e",color:"#f8f7f7"}},"Please enter a valid value!"),t.push(ee.a.Invalid)),e.elementType){case"input":t.push(ee.a.InputInput),a=o.a.createElement("input",Object.assign({className:t.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t.push(ee.a.InputTextarea),a=o.a.createElement("textarea",Object.assign({className:t.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return o.a.createElement("div",null,a,n)},ne="title",ae="text",oe=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e,a;Object(c.a)(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(a=t.call.apply(t,[this].concat(r))).state={disableSubmit:!1,controls:(e={},Object(q.a)(e,ne,{elementType:"input",elementConfig:{type:"text",placeholder:"Title"},value:"",validation:{required:!0,minLength:5,maxLength:20},valid:!1,submitted:!1}),Object(q.a)(e,ae,{elementType:"textarea",elementConfig:{type:"text",placeholder:"Mini-text"},value:"",validation:{required:!0,minLength:5,maxLength:200},valid:!1,submitted:!1}),e)},a.modalClosed=function(){a.props.onClose(),a.resetStateControlValues()},a.formSubmitHandler=function(e){e.preventDefault(),a.setState({disableSubmit:!0});var t=[];for(var n in a.state.controls){var o=Object(M.a)({},a.state.controls[n]);o.submitted=!0,o.valid=a.checkValidity(o.value,o.validation),t[n]=o}a.setState({controls:t}),t[ne].valid&&t[ae].valid?a.props.onSubmitBlogPost(t[ne].value,t[ae].value):a.setState({disableSubmit:!1})},a}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.showModal&&this.props.showModal!=e.showModal&&this.setState({disableSubmit:!1}),e.addSuccess!=this.props.addSuccess&&this.props.addSuccess&&(this.props.onClose(),this.resetStateControlValues())}},{key:"resetStateControlValues",value:function(){var e=this;setTimeout((function(){var t=Object(M.a)({},e.state.controls);for(var n in t){var a=Object(M.a)({},t[n]);a.value="",a.valid=!1,a.submitted=!1,t[n]=a}e.setState({controls:t}),e.props.onNewPostInit()}),300)}},{key:"inputHandler",value:function(e,t){var n=Object(M.a)({},this.state.controls),a=Object(M.a)({},n[t]);a.value=e.target.value,a.submitted=!1,n[t]=a,this.setState({controls:n})}},{key:"checkValidity",value:function(e,t){var n=!0;if(!t)return!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return n}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.controls)t.push({id:n,elementData:this.state.controls[n]});var a=t.map((function(t){return o.a.createElement(te,{key:t.id,elementConfig:t.elementData.elementConfig,elementType:t.elementData.elementType,valid:t.elementData.valid,submitted:t.elementData.submitted,validationRequired:t.elementData.validation.required,value:t.elementData.value,changed:function(n){e.inputHandler(n,t.id)}})}));return o.a.createElement($,{closed:this.modalClosed,show:this.props.showModal},o.a.createElement("div",{className:Q.a.NewPost},o.a.createElement("form",{onSubmit:this.formSubmitHandler},a,o.a.createElement("button",{disabled:this.state.disableSubmit,style:{left:"-22%"}},"Submit"))))}}]),n}(a.Component),re=Object(v.b)((function(e){return{addSuccess:e.postsReducer.addSuccess}}),(function(e){return{onSubmitBlogPost:function(t,n){return e(function(e,t){var n={title:e,text:t};return function(e){L.post("api/posts",n).then((function(t){e({type:"ADD_POST_SUCCESS"}),e(k())})).catch((function(t){e(function(e){return{type:"ADD_POST_FAILED",error:e}}(t))}))}}(t,n))},onNewPostInit:function(){return e({type:"ADD_POST_INIT"})}}}))(oe),ie=n(55),se=n.n(ie),le=function(e){return o.a.createElement("button",Object.assign({className:se.a.RoundButton},e),e.children)},ce=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={showModal:!1},e.closeNewPostDialogue=function(){e.setState({showModal:!1})},e.openNewPostDialogue=function(){e.setState({showModal:!0})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.onLoadPosts()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:x.a.PostBillboard},o.a.createElement("div",null,o.a.createElement(V,{items:this.props.posts,onDeletePost:function(t){return e.props.onDeletePost(t)}}),o.a.createElement(re,{onClose:this.closeNewPostDialogue,showModal:this.state.showModal,style:{position:"fixed",left:"30%",top:"30%"}}),o.a.createElement(le,{onClick:this.openNewPostDialogue,style:{position:"fixed",bottom:"3vh",left:"45vw"}},"New Post")))}}]),n}(a.Component),ue=Object(v.b)((function(e){return{posts:e.postsReducer.posts}}),(function(e){return{onLoadPosts:function(){return e(k())},onDeletePost:function(t){return e(function(e){return console.log(e),function(t){var n="api/posts/".concat(e);L.delete(n).then((function(n){console.log(n),t(function(e){return{type:"DELETE_POST_SUCCESS",deletedId:e}}(e)),t(k)})).catch((function(e){t({type:"DELETE_POST_FAILED",error:e})}))}}(t))}}}))(ce);var de=function(){return o.a.createElement("div",null,o.a.createElement(s.a,null,o.a.createElement(N,null,o.a.createElement(l.c,null,o.a.createElement(l.a,{path:"/",exact:!0,render:function(){return o.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%",backgroundColor:"#daded9cf"}})}}),o.a.createElement(l.a,{path:"/posts",component:ue})))))},me=n(16),pe=n(56),_e={showSidebar:!1},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIDEBAR_SHOW":return Object(M.a)(Object(M.a)({},e),{},{showSidebar:t.showSidebar})}return e},fe={posts:[],addSuccess:!1},he=function(e,t){return e.filter((function(e){return e.id!==t}))},ve=function(e,t){return Object(M.a)(Object(M.a)({},e),t)},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS_SUCCESS":var n=ve(e,t);return n;case"FETCH_POSTS_FAILED":return ve(e);case"ADD_POST_SUCCESS":return ve(e,{addSuccess:!0});case"ADD_POST_FAILED":case"ADD_POST_INIT":return ve(e,{addSuccess:!1});case"DELETE_POST_SUCCESS":var a={posts:he(e.posts,t.deletedId)};return ve(e,a);case"DELETE_POST_FAILED":return ve(e)}return e},Se=Object(me.c)({navigationReducer:be,postsReducer:Ee}),ge=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||me.d,Oe=Object(me.e)(Se,ge(Object(me.a)(pe.a))),Ce=o.a.createElement(v.a,{store:Oe},o.a.createElement(de,null," "));i.a.render(Ce,document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.ac22ab15.chunk.js.map